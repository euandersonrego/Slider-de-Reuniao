<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Propostas - Método I.M.P.A.C.T.O.</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- html2pdf.js for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .slide {
            min-height: 100vh;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }
        .card {
            background-color: white;
            border-radius: 1.5rem;
            padding: 2rem;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        /* Custom scrollbar for the form panel */
        #form-panel::-webkit-scrollbar { width: 8px; }
        #form-panel::-webkit-scrollbar-track { background: #f1f1f1; }
        #form-panel::-webkit-scrollbar-thumb { background: #888; border-radius: 4px; }
        #form-panel::-webkit-scrollbar-thumb:hover { background: #555; }

        /* Styles for PDF Generation */
        .pdf-friendly .slide {
            min-height: auto;
            height: auto;
            padding-top: 4rem;
            padding-bottom: 4rem;
            page-break-inside: avoid;
        }
        .pdf-friendly .card, .pdf-friendly .bg-gray-800 {
            page-break-inside: avoid;
        }
    </style>
</head>
<body class="bg-gray-200">

    <div class="flex flex-col md:flex-row h-screen">
        <!-- FORM PANEL -->
        <div id="form-panel" class="w-full md:w-1/3 bg-white p-6 overflow-y-auto">
            <h2 class="text-2xl font-bold mb-2">Editor da Proposta</h2>
            <p class="text-gray-500 mb-6">Preencha os campos para personalizar a proposta.</p>
            
            <form id="proposal-form" class="space-y-4">
                <!-- 1. Dados da Capa -->
                <div class="p-4 border rounded-lg">
                    <h3 class="font-semibold text-lg mb-2 text-cyan-700">1. Capa</h3>
                    <div><label class="block text-sm font-medium text-gray-700">Seu Nome</label><input type="text" id="gestorNome" data-target="gestorNome-val" class="mt-1 w-full border border-gray-300 rounded-md p-2" value="Anderson Rêgo"></div>
                    <div><label class="block text-sm font-medium text-gray-700">Nome do Cliente (ou Empresa)</label><input type="text" id="clienteNome" data-target="clienteNome-val" class="mt-1 w-full border border-gray-300 rounded-md p-2" value="Nome do Cliente"></div>
                    <div><label class="block text-sm font-medium text-gray-700">Frase de Impacto</label><textarea id="fraseImpacto" data-target="fraseImpacto-val" class="mt-1 w-full border border-gray-300 rounded-md p-2">Uma parceria para alavancar seus resultados</textarea></div>
                </div>

                <!-- 2. Apresentação -->
                <div class="p-4 border rounded-lg">
                    <h3 class="font-semibold text-lg mb-2 text-cyan-700">2. Sua Apresentação</h3>
                    <textarea data-target="apresentacao-val" rows="8" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">Meu trabalho como Gestor de Tráfego é gerenciar suas plataformas de anúncios (Facebook Ads e Google Ads) e montar estratégias para atrair mais clientes para o seu negócio. Sou especialista em I.A. e uso essas ferramentas para auxiliar a maximizar os resultados, e ainda crio relatórios semanais pensando em maximizar os seus ganhos.</textarea>
                    <input type="text" data-target="citacao-val" class="mt-2 w-full border border-gray-300 rounded-md p-2 font-semibold" value='"O gestor de tráfego vende DINHEIRO"'>
                    <input type="text" data-target="autorCitacao-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm" value="Pedro Sobral | Comunidade Sobral de Tráfego">
                </div>

                <!-- 3. Como Funciona (4 Pilares) -->
                <div class="p-4 border rounded-lg">
                    <h3 class="font-semibold text-lg mb-2 text-cyan-700">3. Como Funciona o Tráfego Pago?</h3>
                    <input type="text" data-target="pilarTitulo1-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 font-semibold" value="Orçamento"><textarea data-target="pilarDesc1-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">O valor que será investido para alcançar as pessoas.</textarea>
                    <input type="text" data-target="pilarTitulo2-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 font-semibold" value="Objetivo"><textarea data-target="pilarDesc2-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">O que queremos que as pessoas façam (mandar mensagem, comprar, etc.).</textarea>
                    <input type="text" data-target="pilarTitulo3-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 font-semibold" value="Público"><textarea data-target="pilarDesc3-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">Para quem os anúncios serão mostrados (idade, interesses, localização).</textarea>
                    <input type="text" data-target="pilarTitulo4-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 font-semibold" value="Anúncios"><textarea data-target="pilarDesc4-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">A imagem/vídeo e o texto que a pessoa irá ver.</textarea>
                </div>

                <!-- 4. Diagnóstico -->
                <div class="p-4 border rounded-lg">
                    <h3 class="font-semibold text-lg mb-2 text-cyan-700">4. Perguntas de Diagnóstico</h3>
                    <div><label class="text-sm font-medium text-gray-700">Pergunta 1</label><input type="text" data-target="diagPergunta1-val" class="mt-1 w-full border border-gray-300 rounded-md p-2" value="Qual é a sua maior dificuldade para atrair clientes hoje?"></div>
                    <div><label class="text-sm font-medium text-gray-700">Pergunta 2</label><input type="text" data-target="diagPergunta2-val" class="mt-1 w-full border border-gray-300 rounded-md p-2" value="Você já investiu em anúncios online? Quais foram os resultados?"></div>
                    <div><label class="text-sm font-medium text-gray-700">Pergunta 3</label><input type="text" data-target="diagPergunta3-val" class="mt-1 w-full border border-gray-300 rounded-md p-2" value="Se pudéssemos resolver seu maior problema de marketing, qual seria o impacto no seu negócio?"></div>
                </div>
                
                <!-- 5. Detalhes do Método I.M.P.A.C.T.O. -->
                <div class="p-4 border rounded-lg">
                    <h3 class="font-semibold text-lg mb-2 text-cyan-700">5. Detalhes do Método I.M.P.A.C.T.O.</h3>
                    <div class="space-y-3">
                        <div><label class="text-sm font-bold">I - Inventário</label><textarea data-target="impactoDescI-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">Diagnóstico completo do seu negócio, produtos, ofertas e concorrência para definir a melhor estratégia inicial.</textarea></div>
                        <div><label class="text-sm font-bold">M - Mensagem</label><textarea data-target="impactoDescM-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">Criação da comunicação certa que toca na dor do seu cliente ideal e o convence a clicar, usando copywriting estratégico.</textarea></div>
                        <div><label class="text-sm font-bold">P - Público</label><textarea data-target="impactoDescP-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">Mapeamento e configuração dos públicos ideais (interesses, comportamentos, lookalike) para encontrar quem realmente compra.</textarea></div>
                        <div><label class="text-sm font-bold">A - Anúncio</label><textarea data-target="impactoDescA-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">Estruturação das campanhas com objetivos claros, orçamento e criativos que chamam a atenção e geram resultados.</textarea></div>
                        <div><label class="text-sm font-bold">C - Conversão</label><textarea data-target="impactoDescC-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">Otimização do destino do clique (página de vendas, perfil, WhatsApp) para garantir que as visitas se transformem em vendas.</textarea></div>
                        <div><label class="text-sm font-bold">T - Teste</label><textarea data-target="impactoDescT-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">Fase de comparação entre criativos e públicos para descobrir, com dados, o que funciona melhor antes de escalar.</textarea></div>
                        <div><label class="text-sm font-bold">O - Otimização</label><textarea data-target="impactoDescO-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">Análise de métricas para ajustar e escalar as campanhas vencedoras, garantindo o melhor retorno sobre o investimento (ROI).</textarea></div>
                    </div>
                </div>
                
                <!-- 6. Como Acontece na Prática -->
                <div class="p-4 border rounded-lg">
                    <h3 class="font-semibold text-lg mb-2 text-cyan-700">6. Como Acontece na Prática?</h3>
                    <div class="space-y-3">
                        <textarea data-target="praticaDesc1-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">Nossa parceria é formalizada com o pagamento antecipado da mensalidade, via Pix ou transferência.</textarea>
                        <textarea data-target="praticaDesc2-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">Definiremos juntos os criativos (imagens/vídeos) e estratégias. Você pode fornecer o material ou adaptamos o que já existe.</textarea>
                        <textarea data-target="praticaDesc3-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">Vou te guiar em todo o processo de configuração da conta de anúncios, garantindo que tudo esteja 100% correto.</textarea>
                        <textarea data-target="praticaDesc4-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">O compartilhamento do acesso à sua conta será feito de forma segura durante nossa reunião de kickoff.</textarea>
                        <textarea data-target="praticaDesc5-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">Você terá um canal de comunicação direto via WhatsApp para tirar dúvidas e fazer alinhamentos.</textarea>
                        <textarea data-target="praticaDesc6-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">Teremos um encontro semanal para discutir os resultados e alinhar as próximas estratégias.</textarea>
                        <textarea data-target="praticaDesc7-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">Você receberá relatórios claros para entender exatamente o retorno de suas campanhas.</textarea>
                        <textarea data-target="praticaDesc8-val" class="mt-1 w-full border border-gray-300 rounded-md p-2 text-sm">Suas campanhas serão monitoradas e otimizadas diariamente para garantir o melhor uso do seu investimento.</textarea>
                    </div>
                </div>

                <!-- 7. Valores e Fechamento -->
                <div class="p-4 border rounded-lg">
                    <h3 class="font-semibold text-lg mb-2 text-cyan-700">7. Valores e Fechamento</h3>
                     <div><label class="block text-sm font-medium text-gray-700">Investimento em Anúncios (R$)</label><input type="number" id="valorAnuncios" data-target="valorAnuncios-val" class="mt-1 w-full border border-gray-300 rounded-md p-2" value="500"></div>
                     <div><label class="block text-sm font-medium text-gray-700">Seus Honorários (R$)</label><input type="number" id="valorHonorarios" data-target="valorHonorarios-val" class="mt-1 w-full border border-gray-300 rounded-md p-2" value="300"></div>
                     <div><label class="block text-sm font-medium text-gray-700">Validade da Proposta</label><input type="text" id="validadeProposta" data-target="validadeProposta-val" class="mt-1 w-full border border-gray-300 rounded-md p-2" value="DD/MM/AAAA"></div>
                     <div><label class="block text-sm font-medium text-gray-700">Seu Contato Final</label><input type="text" id="gestorContato" data-target="gestorContato-val" class="mt-1 w-full border border-gray-300 rounded-md p-2" value="(99) 99999-9999"></div>
                </div>
            </form>

            <div class="mt-6 space-y-3">
                 <button id="download-pdf-btn" class="w-full bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-4 rounded-lg shadow-lg flex items-center justify-center text-lg">
                    <i class="fas fa-file-pdf mr-2"></i> Baixar Proposta em PDF
                </button>
            </div>
        </div>

        <!-- PREVIEW PANEL -->
        <div class="w-full md:w-2/3 overflow-y-auto">
            <div id="proposal-preview" class="bg-gray-100 text-gray-800">
                <!-- Slide 1: Capa -->
                <section class="slide bg-gray-900 text-white text-center">
                    <div class="max-w-3xl">
                        <h1 class="text-4xl md:text-6xl font-extrabold" id="clienteNome-val1">[Nome do Cliente]</h1>
                        <p class="mt-4 text-xl md:text-2xl text-cyan-400" id="fraseImpacto-val">Uma parceria para alavancar seus resultados</p>
                        <p class="mt-8">Apresentado por: <span class="font-bold" id="gestorNome-val1">[Seu Nome]</span></p>
                    </div>
                </section>
                
                <!-- Slide 2: Apresentação -->
                <section class="slide">
                     <div class="max-w-3xl text-center">
                        <h2 class="text-3xl md:text-4xl font-bold mb-8">Prazer, <span id="gestorNome-val2">[Seu Nome]</span>!</h2>
                        <div class="card text-left text-lg text-gray-700 space-y-4">
                            <p id="apresentacao-val"></p>
                            <div class="text-center pt-4">
                                <p class="text-xl font-semibold text-gray-800" id="citacao-val"></p>
                                <p class="text-md text-gray-500" id="autorCitacao-val"></p>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Slide 3: Transição -->
                <section class="slide bg-gray-900 text-white text-center">
                     <div class="max-w-3xl">
                        <h2 class="text-4xl md:text-5xl font-bold uppercase">Como funciona o <span class="text-cyan-400">Tráfego Pago?</span></h2>
                    </div>
                </section>

                <!-- Slide 4: 4 Pilares -->
                <section class="slide">
                     <div class="max-w-4xl text-center">
                        <h2 class="text-3xl md:text-4xl font-bold mb-10">Os 4 Pilares Essenciais</h2>
                        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                            <div class="card text-center"><i class="fas fa-dollar-sign text-4xl text-cyan-500 mb-4"></i><h3 class="font-bold text-xl mb-2" id="pilarTitulo1-val"></h3><p class="text-gray-600" id="pilarDesc1-val"></p></div>
                            <div class="card text-center"><i class="fas fa-bullseye text-4xl text-cyan-500 mb-4"></i><h3 class="font-bold text-xl mb-2" id="pilarTitulo2-val"></h3><p class="text-gray-600" id="pilarDesc2-val"></p></div>
                            <div class="card text-center"><i class="fas fa-users text-4xl text-cyan-500 mb-4"></i><h3 class="font-bold text-xl mb-2" id="pilarTitulo3-val"></h3><p class="text-gray-600" id="pilarDesc3-val"></p></div>
                            <div class="card text-center"><i class="fas fa-ad text-4xl text-cyan-500 mb-4"></i><h3 class="font-bold text-xl mb-2" id="pilarTitulo4-val"></h3><p class="text-gray-600" id="pilarDesc4-val"></p></div>
                        </div>
                    </div>
                </section>
                
                <!-- Slide 5: Diagnóstico -->
                <section class="slide bg-gray-200">
                    <div class="max-w-3xl text-center">
                        <h2 class="text-3xl md:text-4xl font-bold mb-8">Antes de tudo, preciso te ouvir.</h2>
                        <div class="card text-left">
                            <h3 class="font-bold text-2xl mb-4">Onde o calo aperta?</h3>
                            <ul class="space-y-3 text-gray-600 text-lg">
                                <li><i class="fas fa-question-circle text-cyan-500 mr-2"></i> <span id="diagPergunta1-val"></span></li>
                                <li><i class="fas fa-question-circle text-cyan-500 mr-2"></i> <span id="diagPergunta2-val"></span></li>
                                <li><i class="fas fa-question-circle text-cyan-500 mr-2"></i> <span id="diagPergunta3-val"></span></li>
                            </ul>
                        </div>
                    </div>
                </section>
                
                <!-- Slide 6: Transição Proposta -->
                <section class="slide bg-gray-900 text-white text-center">
                    <div class="max-w-3xl">
                        <h2 class="text-4xl md:text-5xl font-bold uppercase"><span id="clienteNome-val2" class="text-cyan-400"></span>, posso te fazer uma proposta?</h2>
                    </div>
                </section>

                <!-- Slide 7: MÉTODO I.M.P.A.C.T.O. -->
                <section class="slide">
                    <div class="max-w-5xl w-full text-center">
                        <h2 class="text-3xl md:text-4xl font-bold mb-10">Meu Método de Trabalho: I.M.P.A.C.T.O.</h2>
                        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 text-left">
                           <div class="card"><h3 class="font-bold text-xl mb-2"><span class="text-cyan-500">I</span>nventário</h3><p class="text-gray-600" id="impactoDescI-val"></p></div>
                           <div class="card"><h3 class="font-bold text-xl mb-2"><span class="text-cyan-500">M</span>ensagem</h3><p class="text-gray-600" id="impactoDescM-val"></p></div>
                           <div class="card"><h3 class="font-bold text-xl mb-2"><span class="text-cyan-500">P</span>úblico</h3><p class="text-gray-600" id="impactoDescP-val"></p></div>
                           <div class="card"><h3 class="font-bold text-xl mb-2"><span class="text-cyan-500">A</span>núncio</h3><p class="text-gray-600" id="impactoDescA-val"></p></div>
                           <div class="card"><h3 class="font-bold text-xl mb-2"><span class="text-cyan-500">C</span>onversão</h3><p class="text-gray-600" id="impactoDescC-val"></p></div>
                           <div class="card"><h3 class="font-bold text-xl mb-2"><span class="text-cyan-500">T</span>este</h3><p class="text-gray-600" id="impactoDescT-val"></p></div>
                           <div class="col-span-1 md:col-span-2 lg:col-span-3"><div class="card w-full"><h3 class="font-bold text-xl mb-2"><span class="text-cyan-500">O</span>timização</h3><p class="text-gray-600" id="impactoDescO-val"></p></div></div>
                        </div>
                    </div>
                </section>
                
                <!-- Slide 8: Como acontece na prática -->
                 <section class="slide bg-gray-200">
                     <div class="max-w-4xl w-full text-center">
                        <h2 class="text-3xl md:text-4xl font-bold mb-10">Como Acontece na Prática?</h2>
                        <div class="grid md:grid-cols-2 gap-6 text-left">
                            <div class="card flex items-start space-x-4"><span class="bg-cyan-500 text-gray-900 rounded-full h-8 w-8 flex-shrink-0 inline-flex items-center justify-center font-bold">1</span><div><h3 class="font-bold text-xl mb-1">Início da Parceria (Pagamento)</h3><p class="text-gray-600" id="praticaDesc1-val"></p></div></div>
                            <div class="card flex items-start space-x-4"><span class="bg-cyan-500 text-gray-900 rounded-full h-8 w-8 flex-shrink-0 inline-flex items-center justify-center font-bold">2</span><div><h3 class="font-bold text-xl mb-1">Definição dos Criativos</h3><p class="text-gray-600" id="praticaDesc2-val"></p></div></div>
                            <div class="card flex items-start space-x-4"><span class="bg-cyan-500 text-gray-900 rounded-full h-8 w-8 flex-shrink-0 inline-flex items-center justify-center font-bold">3</span><div><h3 class="font-bold text-xl mb-1">Configuração Guiada da Conta</h3><p class="text-gray-600" id="praticaDesc3-val"></p></div></div>
                            <div class="card flex items-start space-x-4"><span class="bg-cyan-500 text-gray-900 rounded-full h-8 w-8 flex-shrink-0 inline-flex items-center justify-center font-bold">4</span><div><h3 class="font-bold text-xl mb-1">Acesso Seguro à Conta</h3><p class="text-gray-600" id="praticaDesc4-val"></p></div></div>
                            <div class="card flex items-start space-x-4"><span class="bg-cyan-500 text-gray-900 rounded-full h-8 w-8 flex-shrink-0 inline-flex items-center justify-center font-bold">5</span><div><h3 class="font-bold text-xl mb-1">Suporte e Contato Direto</h3><p class="text-gray-600" id="praticaDesc5-val"></p></div></div>
                            <div class="card flex items-start space-x-4"><span class="bg-cyan-500 text-gray-900 rounded-full h-8 w-8 flex-shrink-0 inline-flex items-center justify-center font-bold">6</span><div><h3 class="font-bold text-xl mb-1">Encontros Estratégicos</h3><p class="text-gray-600" id="praticaDesc6-val"></p></div></div>
                            <div class="card flex items-start space-x-4"><span class="bg-cyan-500 text-gray-900 rounded-full h-8 w-8 flex-shrink-0 inline-flex items-center justify-center font-bold">7</span><div><h3 class="font-bold text-xl mb-1">Relatórios Semanais</h3><p class="text-gray-600" id="praticaDesc7-val"></p></div></div>
                            <div class="card flex items-start space-x-4"><span class="bg-cyan-500 text-gray-900 rounded-full h-8 w-8 flex-shrink-0 inline-flex items-center justify-center font-bold">8</span><div><h3 class="font-bold text-xl mb-1">Gestão e Otimização Diária</h3><p class="text-gray-600" id="praticaDesc8-val"></p></div></div>
                        </div>
                    </div>
                </section>
                
                <!-- Slide 9: Proposta Financeira -->
                <section class="slide">
                    <div class="max-w-3xl text-center">
                        <h2 class="text-3xl md:text-4xl font-bold mb-8">Proposta Financeira</h2>
                        <div class="card w-full max-w-sm mx-auto">
                            <div class="text-left space-y-4">
                                <div><p class="font-bold text-lg">Investimento em Anúncios:</p><p class="text-2xl font-bold text-cyan-600">R$ <span class="font-extrabold" id="valorAnuncios-val"></span><span class="text-base font-medium text-gray-500">,00 /mês</span></p></div><hr class="my-4">
                                <div><p class="font-bold text-lg">Meus Honorários (Gestão):</p><p class="text-2xl font-bold text-cyan-600">R$ <span class="font-extrabold" id="valorHonorarios-val"></span><span class="text-base font-medium text-gray-500">,00 /mês</span></p></div>
                            </div>
                            <div class="mt-6 bg-gray-100 p-4 rounded-lg"><p class="text-lg font-bold">Investimento Total:</p><p class="text-4xl font-extrabold text-gray-800" id="valorTotal-val"></p></div>
                        </div>
                    </div>
                </section>

                <!-- Slide 10: Fechamento -->
                <section class="slide bg-gray-900 text-white">
                     <div class="max-w-3xl text-center">
                        <h2 class="text-3xl md:text-4xl font-bold mb-4">Vamos fechar nossa parceria?</h2>
                        <div class="bg-gray-800 p-6 rounded-2xl">
                             <h3 class="font-bold text-2xl mb-4 text-cyan-400">Próximos Passos</h3>
                            <ol class="text-left space-y-3 text-lg">
                                <li><span class="bg-cyan-500 text-gray-900 rounded-full h-8 w-8 inline-flex items-center justify-center font-bold mr-3">1</span>Aceite da Proposta</li>
                                <li><span class="bg-cyan-500 text-gray-900 rounded-full h-8 w-8 inline-flex items-center justify-center font-bold mr-3">2</span>Envio do Contrato e Pagamento</li>
                                <li><span class="bg-cyan-500 text-gray-900 rounded-full h-8 w-8 inline-flex items-center justify-center font-bold mr-3">3</span>Reunião de Kickoff!</li>
                            </ol>
                        </div>
                        <div class="mt-8 text-sm"><p>Proposta válida até <span id="validadeProposta-val"></span></p><p class="mt-4">Obrigado pela oportunidade!</p><p><span id="gestorNome-val3"></span> | <span id="gestorContato-val"></span></p></div>
                     </div>
                </section>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('proposal-form');
            
            function updatePreview() {
                const inputs = form.querySelectorAll('input, textarea');
                let total = 0;

                inputs.forEach(input => {
                    const targetId = input.dataset.target;
                    
                    if(targetId) {
                        const value = input.value;
                        document.querySelectorAll(`[id^='${targetId}']`).forEach(el => {
                            if (el.tagName.toLowerCase() === 'img') {
                                el.src = value || `https://placehold.co/600x400/e2e8f0/334155?text=An%C3%BAncio`;
                            } else {
                                el.textContent = value || (input.placeholder && !input.placeholder.toLowerCase().includes('url') ? input.placeholder : '');
                            }
                        });
                    }
                    
                     if (input.id === 'valorAnuncios' || input.id === 'valorHonorarios') {
                        total += parseFloat(input.value) || 0;
                    }
                });
                
                document.getElementById('valorTotal-val').textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
                
                const gestorNome = document.getElementById('gestorNome').value || '[Seu Nome]';
                document.querySelectorAll('[id^="gestorNome-val"]').forEach(el => el.textContent = gestorNome);

                const clienteNome = document.getElementById('clienteNome').value || '[Nome do Cliente]';
                 document.querySelectorAll('[id^="clienteNome-val"]').forEach(el => el.textContent = clienteNome);
            }

            form.addEventListener('input', updatePreview);

            const downloadButton = document.getElementById('download-pdf-btn');
            if(downloadButton) {
                downloadButton.addEventListener('click', function () {
                    const element = document.getElementById('proposal-preview');
                    const clienteNome = document.getElementById('clienteNome').value || 'proposta';
                    element.classList.add('pdf-friendly');

                    const opt = {
                        margin: 0,
                        filename: `Proposta - ${clienteNome}.pdf`,
                        image: { type: 'jpeg', quality: 0.98 },
                        html2canvas: { scale: 2, useCORS: true, logging: false },
                        jsPDF: { unit: 'px', format: [element.scrollWidth, element.scrollHeight], orientation: 'portrait' }
                    };

                    html2pdf().set(opt).from(element).save().then(() => {
                        element.classList.remove('pdf-friendly');
                    });
                });
            }

            updatePreview();
        });
    </script>
</body>
</html>
